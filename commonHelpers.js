import{b as v}from"./assets/vendor-d96d9533.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();function L(a){const t=a.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,e=t.top<=n&&t.top+t.height>=0,s=t.left<=o&&t.left+t.width>=0;return e&&s}function h(){const a=document.querySelector("#covers"),t=document.querySelectorAll(".marquee-line");window.addEventListener("scroll",function(){L(a)?t.forEach(function(n){n.classList.add("animate")}):t.forEach(function(n){n.classList.remove("animate")})})}document.addEventListener("DOMContentLoaded",h);document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("reviews-list"),t=document.getElementById("not-found"),n=document.querySelector(".left-btn"),o=document.querySelector(".nav-btn:not(.left-btn)");function e(s){s.isBeginning?(n.classList.add("disabled"),n.disabled=!0):(n.classList.remove("disabled"),n.disabled=!1),s.isEnd?(o.classList.add("disabled"),o.disabled=!0):(o.classList.remove("disabled"),o.disabled=!1)}fetch("https://portfolio-js.b.goit.study/api/reviews").then(s=>s.json()).then(s=>{if(!s||s.length===0){t.style.display="block";return}s.forEach(d=>{const m=document.createElement("li");m.classList.add("swiper-slide");const u=document.createElement("div");u.classList.add("review-card");const r=document.createElement("img");r.src=d.avatar_url,r.alt=`${d.author}'s avatar`;const i=document.createElement("h2");i.textContent=d.author;const f=document.createElement("p");f.textContent=d.review,u.appendChild(r),u.appendChild(i),u.appendChild(f),m.appendChild(u),a.appendChild(m)});const c=new Swiper(".swiper-container",{navigation:{nextEl:o,prevEl:n},keyboard:{enabled:!0,onlyInViewport:!1},mousewheel:!0,slidesPerView:1,spaceBetween:16,breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}},on:{slideChange:()=>e(c)}});e(c),n.addEventListener("click",()=>{n.classList.contains("disabled")||c.slidePrev()}),o.addEventListener("click",()=>{o.classList.contains("disabled")||c.slideNext()})}).catch(s=>{alert("Error loading reviews"),t.style.display="block"})});document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("contact-form"),t=document.getElementById("email"),n=document.getElementById("comments"),o=document.getElementById("email-message"),e=document.getElementById("comments-message"),s=()=>{const r=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*\.[a-zA-Z]{2,}$/,i=t.value;return i===""?(t.classList.remove("error","success"),o.textContent="",o.classList.remove("error","success"),!1):r.test(i)?(t.classList.add("success"),t.classList.remove("error"),o.textContent="Valid email format",o.classList.add("success"),o.classList.remove("error"),!0):(t.classList.add("error"),t.classList.remove("success"),o.textContent="Invalid email format. Please use example@domain.com",o.classList.add("error"),o.classList.remove("success"),!1)},c=()=>n.value.trim()===""?(n.classList.add("error"),n.classList.remove("success"),e.textContent="Comments cannot be empty",e.classList.add("error"),e.classList.remove("success"),!1):(n.classList.add("success"),n.classList.remove("error"),e.textContent="Valid comments",e.classList.add("success"),e.classList.remove("error"),!0);t.addEventListener("input",s),n.addEventListener("input",c),a.addEventListener("submit",function(r){r.preventDefault();const i=s(),f=c();i&&f?fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.value,comment:n.value})}).then(l=>l.json()).then(l=>{d(l.title||"Success",l.message||"Form submitted successfully"),a.reset(),t.classList.remove("success"),n.classList.remove("success"),o.textContent="",e.textContent=""}).catch(l=>{d("Error",l.message||"An error occurred")}):d("Error","Please correct the form errors before submitting.")});function d(r,i){m();const f=`
      <div class="modal">
        <button class="modal-close">&times;</button>
        <p class="modal-upper-text">${r}</p>
        <p class="modal-lower-text">${i}</p>
      </div>
    `,l=v.create(f,{onShow:p=>{document.body.classList.add("no-scroll"),p.element().querySelector(".modal-close").addEventListener("click",()=>{m()})},onClose:()=>{document.body.classList.remove("no-scroll")}});l.show(),l.element().addEventListener("click",p=>{p.target===l.element()&&m()}),document.addEventListener("keydown",u)}function m(){const r=document.querySelector(".basicLightbox");r&&(r.classList.remove("basicLightbox--visible"),setTimeout(()=>{r.remove()},400)),document.querySelectorAll(".modal").forEach(f=>{f.style.display="none"}),document.body.classList.remove("no-scroll"),document.body.style.overflow="",document.removeEventListener("keydown",u)}function u(r){r.key==="Escape"&&m()}});
//# sourceMappingURL=commonHelpers.js.map
