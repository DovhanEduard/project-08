import{b as v}from"./assets/vendor-d96d9533.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{const f=document.getElementById("reviews-list"),n=document.getElementById("not-found"),o=document.querySelector(".left-btn"),s=document.querySelector(".nav-btn:not(.left-btn)");function e(t){t.isBeginning?(o.classList.add("disabled"),o.disabled=!0):(o.classList.remove("disabled"),o.disabled=!1),t.isEnd?(s.classList.add("disabled"),s.disabled=!0):(s.classList.remove("disabled"),s.disabled=!1)}fetch("https://portfolio-js.b.goit.study/api/reviews").then(t=>t.json()).then(t=>{if(!t||t.length===0){n.style.display="block";return}t.forEach(a=>{const d=document.createElement("li");d.classList.add("swiper-slide");const m=document.createElement("div");m.classList.add("review-card");const r=document.createElement("img");r.src=a.avatar_url,r.alt=`${a.author}'s avatar`;const i=document.createElement("h2");i.textContent=a.author;const u=document.createElement("p");u.textContent=a.review,m.appendChild(r),m.appendChild(i),m.appendChild(u),d.appendChild(m),f.appendChild(d)});const c=new Swiper(".swiper-container",{navigation:{nextEl:s,prevEl:o},keyboard:{enabled:!0,onlyInViewport:!1},mousewheel:!0,slidesPerView:1,spaceBetween:16,breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}},on:{slideChange:()=>e(c)}});e(c),o.addEventListener("click",()=>{o.classList.contains("disabled")||c.slidePrev()}),s.addEventListener("click",()=>{s.classList.contains("disabled")||c.slideNext()})}).catch(t=>{alert("Error loading reviews"),n.style.display="block"})});document.addEventListener("DOMContentLoaded",function(){const f=document.getElementById("contact-form"),n=document.getElementById("email"),o=document.getElementById("comments"),s=document.getElementById("email-message"),e=document.getElementById("comments-message"),t=()=>{const r=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*\.[a-zA-Z]{2,}$/,i=n.value;return i===""?(n.classList.remove("error","success"),s.textContent="",s.classList.remove("error","success"),!1):r.test(i)?(n.classList.add("success"),n.classList.remove("error"),s.textContent="Valid email format",s.classList.add("success"),s.classList.remove("error"),!0):(n.classList.add("error"),n.classList.remove("success"),s.textContent="Invalid email format. Please use example@domain.com",s.classList.add("error"),s.classList.remove("success"),!1)},c=()=>o.value.trim()===""?(o.classList.add("error"),o.classList.remove("success"),e.textContent="Comments cannot be empty",e.classList.add("error"),e.classList.remove("success"),!1):(o.classList.add("success"),o.classList.remove("error"),e.textContent="Valid comments",e.classList.add("success"),e.classList.remove("error"),!0);n.addEventListener("input",t),o.addEventListener("input",c),f.addEventListener("submit",function(r){r.preventDefault();const i=t(),u=c();i&&u?fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.value,comment:o.value})}).then(l=>l.json()).then(l=>{a(l.title||"Success",l.message||"Form submitted successfully"),f.reset(),n.classList.remove("success"),o.classList.remove("success"),s.textContent="",e.textContent=""}).catch(l=>{a("Error",l.message||"An error occurred")}):a("Error","Please correct the form errors before submitting.")});function a(r,i){d();const u=`
      <div class="modal">
        <button class="modal-close">&times;</button>
        <p class="modal-upper-text">${r}</p>
        <p class="modal-lower-text">${i}</p>
      </div>
    `,l=v.create(u,{onShow:p=>{document.body.classList.add("no-scroll"),p.element().querySelector(".modal-close").addEventListener("click",()=>{d()})},onClose:()=>{document.body.classList.remove("no-scroll")}});l.show(),l.element().addEventListener("click",p=>{p.target===l.element()&&d()}),document.addEventListener("keydown",m)}function d(){const r=document.querySelector(".basicLightbox");r&&(r.classList.remove("basicLightbox--visible"),setTimeout(()=>{r.remove()},400)),document.querySelectorAll(".modal").forEach(u=>{u.style.display="none"}),document.body.classList.remove("no-scroll"),document.body.style.overflow="",document.removeEventListener("keydown",m)}function m(r){r.key==="Escape"&&d()}});
//# sourceMappingURL=commonHelpers.js.map
